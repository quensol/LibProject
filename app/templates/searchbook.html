{% extends 'index.html' %}

{% block content %}
<html lang="zh" data-theme="light">
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.conditional.min.css" />
    <style>
        .centered-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
    </style>
    <main class="pico" style="background: #E4E9F7">
        <div class="centered-text">
            <input type="search" id="search" placeholder="输入书名或ISBN" aria-label="Search" onkeypress="handleKeyPress(event)"/>
            <a href="#" id="inputlink">点击显示全部藏书列表</a>
        </div>
    </main>
    <script>
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // 阻止默认的回车键行为（如换行）
                submitForm();
            }
        }

        function submitForm() {
            var input = document.getElementById("search");
            var inputValue = input.value;
            var url = "/index/searchbook?value=" + encodeURIComponent(inputValue);
            window.location.href = url; // 使用 window.location.href 发送 GET 请求
        }
    </script>
{% endblock %}